


<h3>
  Users 
  <!-- <span class='link-text' (click)='toggleDetails()'>show details</span> -->
  <span class='link-text' (click)='addUser(anotherUser);'>add user</span>
</h3>

<button (click)="addUser( {firstName: 'Mary', lastName: 'Williams', isActive: true} )" [disabled]='!enableAdd' class="btn btn-block mb-3">Add New User</button>

<h4 *ngIf='!loaded'>Loading users...</h4>

<ul class='list-unstyled' *ngIf="loaded && users.length > 0">

  <li 
  *ngFor='let user of users; index as i' 
  class='card card-body mb-2' 
  [ngClass]="{'bg-light': user.isActive }" 
  >

     
        <h3>{{user.firstName}} {{user.lastName}} 
        </h3>

        <span (click)='toggleDetails(i)'>the 411</span>

        <ul 
        class='list-group' 
        *ngIf='user.showDetails && user.address' >
          <li 
          class='list-group-item' 
          [ngClass]="{'bg-light': user.isActive}">
            Age: {{user.age}}
          </li>
          <li 
          class='list-group-item' 
          [ngClass]="{'bg-light': user.isActive}">
            Address: {{user.address.street}} {{user.address.city}} {{user.address.state}}
          </li>
          <li class="list-group-item">
            Joined: {{user.registered | date}}
          </li>
        
        </ul>
    
  </li>

</ul>

<h4 *ngIf='loaded && users.length === 0'>No users found</h4>